/*******************************************************************************
* SAH : SAMPLE AND HOLD
*******************************************************************************/
import("ls.lib");

// binary selector
selector(sel, x, y) = x * (1 - sel) + y * (sel);

// a classic sample and hold
sah(x, t) = selector(t, _, x) ~ _;

// sample and hold with internal trigger
sahSinc(f, x) = (x, pulseTrain(f)) : sah;

// asynchronous pulse train in HZ : fBase = standard frequency, fMod = -/+ asynchronous deviation
sahAsinc(fBase, fMod, seed, x) = (x, asincPulseTrain(fBase, fMod, seed)) : sah;